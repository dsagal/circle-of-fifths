!function(t){var e={};function n(s){if(e[s])return e[s].exports;var i=e[s]={i:s,l:!1,exports:{}};return t[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";function s(){}n.r(e),n.d(e,"subscribeBindable",(function(){return G})),n.d(e,"subscribeElem",(function(){return J})),n.d(e,"Computed",(function(){return H})),n.d(e,"computed",(function(){return V})),n.d(e,"Disposable",(function(){return l})),n.d(e,"Holder",(function(){return d})),n.d(e,"MultiHolder",(function(){return a})),n.d(e,"setDisposeOwner",(function(){return h})),n.d(e,"svg",(function(){return Et})),n.d(e,"update",(function(){return It})),n.d(e,"frag",(function(){return zt})),n.d(e,"find",(function(){return Bt})),n.d(e,"findAll",(function(){return Tt})),n.d(e,"create",(function(){return $t})),n.d(e,"replaceContent",(function(){return Wt})),n.d(e,"domComputed",(function(){return Pt})),n.d(e,"maybe",(function(){return Kt})),n.d(e,"_disposeNode",(function(){return L})),n.d(e,"domDisposeHooks",(function(){return S})),n.d(e,"domDispose",(function(){return I})),n.d(e,"onDisposeElem",(function(){return O})),n.d(e,"onDispose",(function(){return N})),n.d(e,"autoDisposeElem",(function(){return M})),n.d(e,"autoDispose",(function(){return z})),n.d(e,"forEach",(function(){return Jt})),n.d(e,"attrsElem",(function(){return tt})),n.d(e,"attrs",(function(){return et})),n.d(e,"attrElem",(function(){return nt})),n.d(e,"attr",(function(){return st})),n.d(e,"boolAttrElem",(function(){return it})),n.d(e,"boolAttr",(function(){return rt})),n.d(e,"textElem",(function(){return ot})),n.d(e,"text",(function(){return ut})),n.d(e,"styleElem",(function(){return ct})),n.d(e,"style",(function(){return lt})),n.d(e,"propElem",(function(){return dt})),n.d(e,"prop",(function(){return at})),n.d(e,"showElem",(function(){return ht})),n.d(e,"show",(function(){return pt})),n.d(e,"hideElem",(function(){return ft})),n.d(e,"hide",(function(){return _t})),n.d(e,"clsElem",(function(){return mt})),n.d(e,"cls",(function(){return gt})),n.d(e,"clsPrefix",(function(){return bt})),n.d(e,"dataElem",(function(){return yt})),n.d(e,"data",(function(){return wt})),n.d(e,"getData",(function(){return vt})),n.d(e,"makeTestId",(function(){return Ct})),n.d(e,"noTestId",(function(){return Dt})),n.d(e,"onElem",(function(){return Yt})),n.d(e,"on",(function(){return Zt})),n.d(e,"onMatchElem",(function(){return te})),n.d(e,"onMatch",(function(){return ee})),n.d(e,"onKeyElem",(function(){return ne})),n.d(e,"onKeyPress",(function(){return se})),n.d(e,"onKeyDown",(function(){return ie})),n.d(e,"dom",(function(){return re})),n.d(e,"LLink",(function(){return i})),n.d(e,"Emitter",(function(){return r})),n.d(e,"Listener",(function(){return o})),n.d(e,"fromKo",(function(){return W})),n.d(e,"KoWrapObs",(function(){return P})),n.d(e,"toKo",(function(){return j})),n.d(e,"setupKoDisposal",(function(){return $})),n.d(e,"ObsArray",(function(){return qt})),n.d(e,"MutableObsArray",(function(){return Ft})),n.d(e,"obsArray",(function(){return Rt})),n.d(e,"ComputedArray",(function(){return Ut})),n.d(e,"computedArray",(function(){return Ht})),n.d(e,"makeLiveIndex",(function(){return Vt})),n.d(e,"LiveIndex",(function(){return Gt})),n.d(e,"bundleChanges",(function(){return v})),n.d(e,"BaseObservable",(function(){return C})),n.d(e,"Observable",(function(){return D})),n.d(e,"observable",(function(){return k})),n.d(e,"obsHolder",(function(){return E})),n.d(e,"PureComputed",(function(){return de})),n.d(e,"pureComputed",(function(){return ae})),n.d(e,"styled",(function(){return he})),n.d(e,"keyframes",(function(){return pe})),n.d(e,"Subscription",(function(){return F})),n.d(e,"subscribe",(function(){return R})),n.d(e,"bindB",(function(){return ge})),n.d(e,"bindUB",(function(){return be})),n.d(e,"bindBU",(function(){return xe})),n.d(e,"input",(function(){return ye})),n.d(e,"select",(function(){return Ce}));class i{constructor(){this._next=null,this._prev=null,this._next=this,this._prev=this}isDisposed(){return!this._next}_insertBefore(t,e){const n=t._prev;n._next=e,t._prev=e,e._prev=n,e._next=t}_removeNode(t){t._prev&&(t._prev._next=t._next,t._next._prev=t._prev),t._prev=t._next=null}_disposeList(){let t=this,e=t._next;for(;null!==e;)t._next=t._prev=null,t=e,e=t._next}}class r extends i{constructor(){super(),this._changeCB=s,this._changeCBContext=void 0}addListener(t,e){return new o(this,t,e)}emit(...t){o.callAll(this._next,this,t)}setChangeCB(t,e){this._changeCB=t||s,this._changeCBContext=e}_triggerChangeCB(){this._changeCB.call(this._changeCBContext,this.hasListeners())}hasListeners(){return this._next!==this}dispose(){this._disposeList(),this._changeCB=s,this._changeCBContext=void 0}}class o extends i{constructor(t,e,n){super(),this.emitter=t,this.callback=e,this.context=n,this._insertBefore(t,this),t._triggerChangeCB()}static callAll(t,e,n){for(;t!==e;){const e=t;e.callback.call(e.context,...n),t=e._next}}dispose(){this.isDisposed()||(this._removeNode(this),this.emitter._triggerChangeCB())}}const u={autoDispose(t){}};let c=u;class l{constructor(){this._disposalList=new f,c.autoDispose(this),c=u}static create(t,...e){const n=c,s=new d;try{return c=s,h(t,new this(...e))}catch(t){try{s.clear()}catch(t){console.error("Error disposing partially constructed %s:",this.name,t)}throw t}finally{s.release(),c=n}}autoDispose(t){return this.onDispose(t.dispose,t),t}onDispose(t,e){return this._disposalList.addListener(t,e)}wipeOnDispose(){this.onDispose(this._wipeOutObject,this)}isDisposed(){return null===this._disposalList}dispose(){const t=this._disposalList;t?(this._disposalList=null,t.callAndDispose(this)):console.error("Error disposing %s which is already disposed",p(this))}_wipeOutObject(){for(const t of Object.keys(this))this[t]=null}}class d{constructor(){this._owned=null,this._disposalListener=void 0}static create(t){return h(t,new d)}autoDispose(t){return this.clear(),this._owned=t,t instanceof l&&(this._disposalListener=t.onDispose(this._onOutsideDispose,this)),t}release(){this._unlisten();const t=this._owned;return this._owned=null,t}clear(){this._unlisten();const t=this._owned;t&&(this._owned=null,t.dispose())}get(){return this._owned}isEmpty(){return!this._owned}dispose(){this.clear()}_unlisten(){const t=this._disposalListener;t&&(this._disposalListener=void 0,t.dispose())}_onOutsideDispose(){this._disposalListener=void 0,this._owned=null}}class a extends l{}function h(t,e){return t&&t.autoDispose(e),e}function p(t){return t&&t.constructor&&t.constructor.name?t.constructor.name:""+t}class f extends i{constructor(){super()}addListener(t,e){const n=new _(t,e);return this._insertBefore(this._next,n),n}callAndDispose(t){try{_.callAll(this._next,this,t)}finally{this._disposeList()}}}class _ extends i{constructor(t,e){super(),this.callback=t,this.context=e}static callAll(t,e,n){for(;t!==e;){const e=t;try{e.callback.call(e.context)}catch(t){console.error("While disposing %s, error disposing %s: %s",p(n),p(this),t)}t=e._next}}dispose(){this.isDisposed()||this._removeNode(this)}}class m{constructor(t,e){this._priority=0,this._enqueued=!1,this._creation=++b,this._callback=t,this._context=e}static isPrioritySmaller(t,e){return t._priority<e._priority||t._priority===e._priority&&t._creation<e._creation}useDep(t){const e=t?t._priority:0;e>=this._priority&&(this._priority=e+1)}recompute(){this._priority=0,this._callback.call(this._context)}enqueue(){this._enqueued||(this._enqueued=!0,g.push(this))}}const g=new class{constructor(t){this._isPrior=t,this._items=[]}get size(){return this._items.length}push(t){const e=this._items,n=this._isPrior;let s=this._items.length;for(;s>0;){const i=s-1>>1,r=e[i];if(n(r,t))break;e[s]=r,s=i}e[s]=t}peek(){return this._items[0]}pop(){if(this._items.length<=1)return this._items.pop();const t=this._items,e=this._isPrior,n=t[0],s=t.pop(),i=this._items.length;let r=0,o=1;for(;o<i;){const n=o+1,u=n<i&&e(t[n],t[o])?n:o;if(e(s,t[u]))break;t[r]=t[u],r=u,o=r+r+1}return t[r]=s,n}}(m.isPrioritySmaller);let b=0;const x=[];let y=0;function w(){if(0===y&&g.size>0){y++;try{do{const t=g.pop();x.push(t),t.recompute()}while(g.size>0)}finally{for(const t of x)t._enqueued=!1;x.length=0,y--}}}function v(t){try{return y++,t()}finally{y--,w()}}class C{constructor(t){this._onChange=new r,this._value=t}get(){return this._value}set(t){t!==this._value&&this.setAndTrigger(t)}setAndTrigger(t){const e=this._value;this._value=t,this._onChange.emit(t,e),this._disposeOwned(),w()}addListener(t,e){return this._onChange.addListener(t,e)}hasListeners(){return this._onChange.hasListeners()}setListenerChangeCB(t,e){this._onChange.setChangeCB(t,e)}_getDepItem(){return null}dispose(){this._disposeOwned(),this._onChange.dispose(),this._value=void 0}isDisposed(){return this._onChange.isDisposed()}_disposeOwned(t){}_setWithArg(t,e){const n=this._value;this._value=t,this._onChange.emit(t,n,e),this._disposeOwned(e),w()}}class D extends C{constructor(){super(...arguments),this._owned=void 0}static holder(t){const e=new D(t);return e._owned=t,e}static create(t,e){return h(t,new D(e))}autoDispose(t){return this.setAndTrigger(t),this._owned=t,t}_disposeOwned(){this._owned&&(this._owned.dispose(),this._owned=void 0)}}function k(t){return new D(t)}function E(t){return D.holder(t)}const A=new WeakMap;function L(t){let e=A.get(t);if(e){let n=t;do{A.delete(n),e(t),n=e,e=A.get(n)}while(e)}}const S={disposeNode:L,disposeRecursive:function(t){!function t(e,n){let s=e.firstChild;for(;s;)t(s,n),s=s.nextSibling;n(e)}(t,S.disposeNode)}};function I(t){S.disposeRecursive(t)}function O(t,e){const n=A.get(t);A.set(t,e),n&&A.set(e,n)}function N(t){return e=>O(e,t)}function M(t,e){e&&O(t,()=>e.dispose())}function z(t){if(t)return e=>M(e,t)}const B=new WeakMap,T=new WeakMap;function W(t){return B.get(t)||B.set(t,new P(t)).get(t)}class P extends D{constructor(t){super(t.peek()),this._koObs=t,this._koSub=null,this.setListenerChangeCB(t=>{t?this._koSub||(this._value=this._koObs.peek(),this._koSub=this._koObs.subscribe(t=>this.setAndTrigger(t))):(this._koSub.dispose(),this._koSub=null)})}get(){return this._koObs.peek()}set(t){v(()=>this._koObs(t))}dispose(){throw new Error("KoWrapObs should not be disposed")}}function j(t,e){const n=T.get(e);if(n)return n;const s=t.observable(e.get());return T.set(e,s),e.addListener(t=>s(t)),s}let K=!1;function $(t){if(K)return;K=!0;const e=t.utils.domNodeDisposal,n=e.cleanExternalData,s=S.disposeRecursive;function i(t){n(t),S.disposeNode(t)}e.cleanExternalData=i,S.disposeRecursive=function(r){s(r),e.cleanExternalData=n;try{t.cleanNode(r)}finally{e.cleanExternalData=i}}}const q=[];class F{constructor(t,e,n){this._depItem=new m(this._evaluate,this),this._dependencies=e.length>0?e:q,this._depListeners=e.length>0?e.map(t=>this._subscribeTo(t)):q,this._dynDeps=new Map,this._callback=t,this._useFunc=this._useDependency.bind(this),n&&(this._useFunc.owner=n),this._evaluate()}dispose(){this._callback=null;for(const t of this._depListeners)t.dispose();for(const t of this._dynDeps.values())t.dispose()}_getDepItem(){return this._depItem}_useDependency(t){const e="_getDepItem"in t?t:W(t);let n=this._dynDeps.get(e);return n||(n=this._subscribeTo(e),this._dynDeps.set(e,n)),n._inUse=!0,this._depItem.useDep(e._getDepItem()),e.get()}_evaluate(){if(null!==this._callback)try{const t=[this._useFunc];for(let e=0,n=this._dependencies.length;e<n;e++)t[e+1]=this._dependencies[e].get(),this._depItem.useDep(this._dependencies[e]._getDepItem());return this._callback.apply(void 0,t)}finally{this._dynDeps.forEach((t,e)=>{t._inUse?t._inUse=!1:(this._dynDeps.delete(e),t.dispose())})}}_subscribeTo(t){return("_getDepItem"in t?t:W(t)).addListener(this._enqueue,this)}_enqueue(){this._depItem.enqueue()}}function R(...t){const e=t.pop();return new F(e,t)}function U(){throw new Error("Can't write to non-writable computed")}class H extends D{constructor(t,e){super(void 0),this._callback=t,this._write=U,this._sub=new F(this._read.bind(this),e,this)}static create(t,...e){const n=e.pop();return h(t,new H(n,e))}_getDepItem(){return this._sub._getDepItem()}set(t){this._write(t)}onWrite(t){return this._write=t,this}dispose(){this._sub.dispose(),super.dispose()}_read(t,...e){super.set(this._callback(t,...e))}}function V(...t){const e=t.pop();return new H(e,t)}function G(t,e){if("function"==typeof t){const n=t;if("function"==typeof n.peek){const t=n.subscribe(t=>e(t));return e(n.peek()),t}const s=V(t);return s.addListener(t=>e(t)),e(s.get()),s}return t instanceof C?R(t,(t,n)=>e(n)):(e(t),null)}function J(t,e,n){M(t,G(e,n))}function Q(t,e){t.DocumentFragment=e.DocumentFragment,t.Element=e.Element,t.Node=e.Node,t.document=e.document,t.window=e.window}const X={};Q(X,"undefined"!=typeof window?window:{});const Y=Object.assign({},X);const Z=new WeakMap;function tt(t,e){for(const n of Object.keys(e)){const s=e[n];null!=s&&!1!==s&&t.setAttribute(n,!0===s?"":s)}}function et(t){return e=>tt(e,t)}function nt(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function st(t,e){return n=>J(n,e,e=>nt(n,t,e))}function it(t,e,n){nt(t,e,n?"":null)}function rt(t,e){return n=>J(n,e,e=>it(n,t,e))}function ot(t,e){t.appendChild(Y.document.createTextNode(e))}function ut(t){return e=>{const n=Y.document.createTextNode("");J(e,t,t=>{n.nodeValue=t}),e.appendChild(n)}}function ct(t,e,n){t.style[e]=n}function lt(t,e){return n=>J(n,e,e=>ct(n,t,e))}function dt(t,e,n){t[e]=n}function at(t,e){return n=>J(n,e,e=>dt(n,t,e))}function ht(t,e){t.style.display=e?"":"none"}function pt(t){return e=>J(e,t,t=>ht(e,t))}function ft(t,e){t.style.display=e?"none":""}function _t(t){return e=>J(e,t,t=>ft(e,t))}function mt(t,e,n=!0){t.classList.toggle(e,Boolean(n))}function gt(t,e){return"string"!=typeof t?xt("",t):e&&"boolean"!=typeof e?n=>J(n,e,e=>mt(n,t,e)):n=>mt(n,t,e)}function bt(t,e,n){return"string"!=typeof e?xt(t,e):gt(t+e,n)}function xt(t,e){return n=>{let s=null;J(n,e,e=>{s&&n.classList.remove(s),s=e?t+e:null,s&&n.classList.add(s)})}}function yt(t,e,n){const s=Z.get(t);s?s[e]=n:(O(t,()=>Z.delete(t)),Z.set(t,{[e]:n}))}function wt(t,e){return n=>J(n,e,e=>yt(n,t,e))}function vt(t,e){const n=Z.get(t);return n&&n[e]}function Ct(t){return bt.bind(null,t)}const Dt=t=>null;function kt(t,...e){return Nt(St(At,t),e)}function Et(t,...e){return Nt(St(Lt,t),e)}function At(t){return Y.document.createElement(t)}function Lt(t){return Y.document.createElementNS("http://www.w3.org/2000/svg",t)}function St(t,e){let n,s,i,r=e.indexOf(".");const o=e.indexOf("#");if(-1===r?r=e.length:i=e.substring(r+1).replace(/\./g," "),-1===o)n=e.substring(0,r);else{if(o>r)throw new Error(`ID must come before classes in dom("${e}")`);n=e.substring(0,o),s=e.substring(o+1,r)}const u=t(n);return s&&u.setAttribute("id",s),i&&u.setAttribute("class",i),u}function It(t,...e){return Ot(t,e)}function Ot(t,e){for(const n of e)Mt(t,n);return t}function Nt(t,e){try{return Ot(t,e)}catch(e){throw I(t),e}}function Mt(t,e){if("function"==typeof e){const n=e(t);null!=n&&Mt(t,n)}else Array.isArray(e)?Ot(t,e):null==e||(e instanceof Y.Node?t.appendChild(e):"object"==typeof e?tt(t,e):t.appendChild(Y.document.createTextNode(e)))}function zt(...t){return Nt(Y.document.createDocumentFragment(),t)}function Bt(t){return Y.document.querySelector(t)}function Tt(t){return Y.document.querySelectorAll(t)}function Wt(t,e,n){const s=t.parentNode;if(s){let i;for(let n=t.nextSibling;n&&n!==e;n=i)i=n.nextSibling,I(n),s.removeChild(n);n&&s.insertBefore(n instanceof Y.Node?n:zt(n),e)}}function Pt(t,e=jt){const n=Y.document.createComment("a"),s=Y.document.createComment("b");return[n,s,i=>{J(s,t,t=>Wt(n,s,e(t)))}]}function jt(t){return t}function Kt(t,e){return Pt(t,t=>t?e(t):null)}function $t(t,...e){const[n,s,i]=Pt(null,()=>{const n=a.create(null);M(s,n);const i="create"in t?t.create(n,...e):t(n,...e);return i&&"object"==typeof i&&"buildDom"in i?i.buildDom():i});return[n,s,i]}class qt extends C{constructor(){super(...arguments),this._ownedItems=void 0}addListener(t,e){return super.addListener(t,e)}autoDispose(t){return this._ownedItems||(this._ownedItems=new Set),this._ownedItems.add(t),t}dispose(){if(this._ownedItems){for(const t of this.get())this._ownedItems.delete(t)&&t.dispose();this._ownedItems=void 0}super.dispose()}_setWithSplice(t,e){return this._setWithArg(t,e)}_disposeOwned(t){if(this._ownedItems)if(t)for(const e of t.deleted)this._ownedItems.delete(e)&&e.dispose();else{const t=this._ownedItems;this._ownedItems=new Set;for(const e of this.get())t.delete(e)&&this._ownedItems.add(e);for(const e of t)e.dispose()}}}class Ft extends qt{push(...t){const e=this.get(),n=e.length,s=e.push(...t);return this._setWithSplice(e,{start:n,numAdded:t.length,deleted:[]}),s}pop(){const t=this.get();if(0===t.length)return;const e=t.pop();return this._setWithSplice(t,{start:t.length,numAdded:0,deleted:[e]}),e}unshift(...t){const e=this.get(),n=e.unshift(...t);return this._setWithSplice(e,{start:0,numAdded:t.length,deleted:[]}),n}shift(){const t=this.get();if(0===t.length)return;const e=t.shift();return this._setWithSplice(t,{start:0,numAdded:0,deleted:[e]}),e}splice(t,e=1/0,...n){const s=this.get(),i=s.length;t=Math.min(i,Math.max(0,t<0?i+t:t));const r=s.splice(t,e,...n);return this._setWithSplice(s,{start:t,numAdded:n.length,deleted:r}),r}}function Rt(t=[]){return new Ft(t)}class Ut extends qt{constructor(t,e){var n;super([]),this._mapper=e,this._sub=(n=t,Array.isArray(n.get())?R(t,e=>this._syncMap(t)):R(t,(t,e)=>(t(e),this._syncMap(e))))}dispose(){this._unsync(),this._sub.dispose(),super.dispose()}_syncMap(t){this._source!==t?(this._unsync(),this._listener=t.addListener(this._recordChange,this),this._source=t,this._rebuild(t)):this._lastSplice?this._applySplice(t,this._lastSplice):this._rebuild(t),this._lastSplice=void 0}_unsync(){this._listener&&(this._listener.dispose(),this._listener=void 0,this._source=void 0)}_rebuild(t){this.set(t.get().map((t,e)=>this._mapper.call(void 0,t,e,this)))}_applySplice(t,e){const n=t.get(),s=[];for(let t=e.start,i=0;i<e.numAdded;t++,i++)s.push(this._mapper.call(void 0,n[t],t,this));const i=this.get(),r=i.splice(e.start,e.deleted.length,...s);this._setWithSplice(i,{start:e.start,numAdded:s.length,deleted:r})}_recordChange(t,e,n){n&&void 0===this._lastSplice?this._lastSplice=n:this._lastSplice=!1}}function Ht(t,e){return new Ut(t,e)}function Vt(t,e,n=0){return h(t,new Gt(e,n))}class Gt extends D{constructor(t,e=0){super(null),this._obsArray=t,this._isLive=!0,this.set(e),this._listener=t.addListener(this._onArrayChange,this)}set(t){const e=this._obsArray.get().length;super.set(0===e?null:Math.max(0,Math.min(e-1,t||0)))}setLive(t){this._isLive=t}dispose(){this._listener.dispose(),super.dispose()}_onArrayChange(t,e,n){const s=this.get();this.set(null!==s&&n?this._isLive&&s>=n.start+n.deleted.length?s+n.numAdded-n.deleted.length:this._isLive&&s>=n.start+n.numAdded?n.start+n.numAdded:s:0)}}function Jt(t,e){return n=>{const s=Y.document.createComment("a"),i=Y.document.createComment("b");if(n.appendChild(s),n.appendChild(i),Array.isArray(t))return void Wt(s,i,t.map(e));const r=Ht(t,e);M(i,r),r.addListener((t,e,r)=>{if(r){for(const t of r.deleted)t&&t.parentNode===n&&(I(t),n.removeChild(t));if(r.numAdded>0){const e=r.start+r.numAdded;let s=i;for(let i=e;i<t.length;i++){const e=t[i];if(e&&e.parentNode===n){s=e;break}}const o=zt(t.slice(r.start,e));n.insertBefore(o,s)}}else Wt(s,i,t)}),Wt(s,i,r.get())}}class Qt{constructor(t,e,n,s,i){this.elem=t,this.eventType=e,this.callback=n,this.useCapture=s,this.selector=i,this.elem.addEventListener(this.eventType,this,this.useCapture)}handleEvent(t){(0,this.callback)(t,this.elem)}dispose(){this.elem.removeEventListener(this.eventType,this,this.useCapture)}}class Xt extends Qt{handleEvent(t){const e=function(t,e,n){for(let s=t;s&&s!==e;s=s.parentElement)if(s.matches(n))return s;return null}(t.target,this.elem,this.selector);if(e){(0,this.callback)(t,e)}}}function Yt(t,e,n,{useCapture:s=!1}={}){return new Qt(t,e,n,s)}function Zt(t,e,{useCapture:n=!1}={}){return s=>{new Qt(s,t,e,n)}}function te(t,e,n,s,{useCapture:i=!1}={}){return new Xt(t,n,s,i,e)}function ee(t,e,n,{useCapture:s=!1}={}){return i=>{new Xt(i,e,n,s,t)}}function ne(t,e,n){return t.tabIndex>=0||t.setAttribute("tabindex","-1"),Yt(t,e,(t,e)=>{const s=n[t.key],i=s||n[t.key+"$"];i&&(s&&(t.stopPropagation(),t.preventDefault()),i(t,e))})}function se(t){return e=>{ne(e,"keypress",t)}}function ie(t){return e=>{ne(e,"keydown",t)}}function re(t,...e){return kt(t,...e)}var oe;function ue(){throw new Error("Can't write to non-writable pureComputed")}function ce(t){return"get"in t?t.get():t.peek()}(oe=re||(re={})).svg=Et,oe.frag=zt,oe.update=It,oe.find=Bt,oe.findAll=Tt,oe.domDispose=I,oe.onDisposeElem=O,oe.onDispose=N,oe.autoDisposeElem=M,oe.autoDispose=z,oe.attrsElem=tt,oe.attrs=et,oe.attrElem=nt,oe.attr=st,oe.boolAttrElem=it,oe.boolAttr=rt,oe.textElem=ot,oe.text=ut,oe.styleElem=ct,oe.style=lt,oe.propElem=dt,oe.prop=at,oe.showElem=ht,oe.show=pt,oe.hideElem=ft,oe.hide=_t,oe.clsElem=mt,oe.cls=gt,oe.clsPrefix=bt,oe.dataElem=yt,oe.data=wt,oe.getData=vt,oe.replaceContent=Wt,oe.domComputed=Pt,oe.maybe=Kt,oe.forEach=Jt,oe.create=$t,oe.onElem=Yt,oe.on=Zt,oe.onMatchElem=te,oe.onMatch=ee,oe.onKeyElem=ne,oe.onKeyPress=se,oe.onKeyDown=ie;const le=[];class de extends D{constructor(t,e){super(void 0),this._callback=t,this._write=ue,this._dependencies=e.length>0?e:le,this._sub=null,this._inCall=!1,this.setListenerChangeCB(this._onListenerChange,this)}_getDepItem(){return this._activate(),this._sub._getDepItem()}get(){if(!this._sub&&!this._inCall){this._inCall=!0;try{const t=[ce];for(let e=0,n=this._dependencies.length;e<n;e++)t[e+1]=this._dependencies[e].get();super.set(this._callback.apply(void 0,t))}finally{this._inCall=!1}}return super.get()}set(t){this._write(t)}onWrite(t){return this._write=t,this}dispose(){this._sub&&this._sub.dispose(),this._sub=!0,super.dispose()}_activate(){this._sub||(this._sub=new F(this._read.bind(this),this._dependencies))}_onListenerChange(t){t?this._activate():this._sub&&(this._sub.dispose(),this._sub=null)}_read(t,...e){super.set(this._callback(t,...e))}}function ae(...t){const e=t.pop();return new de(e,t)}function he(t,e){const n=new _e(e),s="string"==typeof t?(...e)=>n.addToElem(kt(t,...e)):(...e)=>n.addToElem(t(...e));return Object.assign(s,{className:n.className,cls:bt.bind(null,n.className)})}function pe(t){return new me(t).className}const fe={};class _e{constructor(t){this._styles=t,this._mounted=!1,this.className=_e._nextClassName(),_e._unmounted.add(this)}static _nextClassName(){return`_grain${function(){const t=Y.window||fe;return t._grainNextStyleNum=(t._grainNextStyleNum||0)+1}()}_`}static _mountAll(){const t=Array.from(this._unmounted,t=>t._createRules()).join("\n\n");Y.document.head.appendChild(kt("style",t));for(const t of this._unmounted)t._mounted=!0;this._unmounted.clear()}addToElem(t){return this._mounted||_e._mountAll(),t.classList.add(this.className),t}_createRules(){return function(t,e){const n=e.search(/[^;]*\{/);return`& {${n<0?e:e.slice(0,n)}\n}\n${n<0?"":e.slice(n)}`.replace(/&/g,t)}("."+this.className,this._styles)}}_e._unmounted=new Set;class me extends _e{_createRules(){return`@keyframes ${this.className} {${this._styles}}`}}function ge(t,e){switch(e.length){case 0:return()=>t();case 1:return()=>t(e[0]);case 2:return()=>t(e[0],e[1]);case 3:return()=>t(e[0],e[1],e[2]);case 4:return()=>t(e[0],e[1],e[2],e[3]);case 5:return()=>t(e[0],e[1],e[2],e[3],e[4]);case 6:return()=>t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return()=>t(e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return()=>t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);default:return()=>t.apply(void 0,e)}}function be(t,e){switch(e.length){case 0:return e=>t(e);case 1:return n=>t(n,e[0]);case 2:return n=>t(n,e[0],e[1]);case 3:return n=>t(n,e[0],e[1],e[2]);case 4:return n=>t(n,e[0],e[1],e[2],e[3]);case 5:return n=>t(n,e[0],e[1],e[2],e[3],e[4]);case 6:return n=>t(n,e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return n=>t(n,e[0],e[1],e[2],e[3],e[4],e[5],e[6]);case 8:return n=>t(n,e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]);default:return n=>t(n,...e)}}function xe(t,e){switch(e.length){case 0:return e=>t(e);case 1:return n=>t(e[0],n);case 2:return n=>t(e[0],e[1],n);case 3:return n=>t(e[0],e[1],e[2],n);case 4:return n=>t(e[0],e[1],e[2],e[3],n);case 5:return n=>t(e[0],e[1],e[2],e[3],e[4],n);case 6:return n=>t(e[0],e[1],e[2],e[3],e[4],e[5],n);case 7:return n=>t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],n);case 8:return n=>t(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],n);default:return n=>t(...e,n)}}function ye(t,e,...n){const s=e.isValid;function i(e){v(()=>{t.set(e.value),s&&s.set(e.validity.valid)})}return re("input",...n,re.prop("value",t),s?e=>re.autoDisposeElem(e,R(t,t=>s.set(e.checkValidity()))):null,e.onInput?re.on("input",(t,e)=>i(e)):null,re.on("change",(t,e)=>i(e)),re.onKeyPress({Enter:(t,e)=>i(e)}))}function we(t){return Array.isArray(t)?t:t.get()}function ve(t){return"string"==typeof t?t:t.value}function Ce(t,e,n={}){const{defLabel:s=""}=n;return re("select",re("option",re.hide(!0),s),re.forEach(e,e=>{const n="string"==typeof e?{value:e,label:e}:e;return re("option",{disabled:n.disabled,selected:n.value===t.get()},n.label)}),n=>re.autoDisposeElem(n,R(t,(t,s)=>{const i=we(e).findIndex(t=>ve(t)===s);n.selectedIndex=i+1})),re.on("change",(n,s)=>{const i=s.selectedIndex,r=we(e)[i-1];void 0!==r&&t.set(ve(r))}))}},,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.interval=void 0;const s=n(0),i=n(0),r=[{start:1,msg:[s.dom("p","Imagine that the orange line is a rubber band."),s.dom("p","Scroll to turn the green wheel.")]},{start:.75,msg:[s.dom("p","The wheel is sticky. As it turns, the rubber band sticks to it, ","remaining as stretched as it was when it touched it.")]},{start:.55,msg:[s.dom("p","Keep scrolling.")]},{start:.4,msg:[s.dom("p","Notice how the new ticks on the wheel end up more spread out than the first ticks.")]},{start:.3,msg:[s.dom("p","Keep scrolling.")]},{start:.2,msg:[s.dom("p","We show more tick marks as the rubber band keeps on stretching.")]},{start:.13,msg:[s.dom("p","The size of the wheel is such that one full turn meets the rubber band when it ","has stretched by a factor of 10.")]},{start:.095,msg:[s.dom("p","For this, the circle's circumference is ",s.dom("i","ln(10)")," times the initial length of the rubber band.")]},{start:.075,msg:[s.dom("p",s.dom("i","ln(10)")," is the natural logarithm of 10, about 2.3, ","the power to which to raise the number ",s.dom("i","e")," to get 10.")]},{start:.055,msg:[s.dom("p","This is the end of the text.")]},{start:.045,msg:[s.dom("p","Feel free to keep scrolling around.")]}],{factor:o,levelStep:u}={factor:128,levelStep:1.5},c=Math.log(o)/(2*Math.PI),l=100/(1+1/c),d={fourth:"□",fifth:"⬠",octave:"⚫"};function a(t,e){const n=i.Computed.create(t,e,(t,e)=>Math.floor(Math.log(u*e)/Math.log(o)));return i.Computed.create(t,t=>function(t){const e=[],n=2**-4;return e.push({value:1*n,label:_("D")}),e.push({value:2/3*n,label:_("A")}),e.push({value:(2/3)**2*n,label:_("E")}),e.push({value:(2/3)**3*n,label:_("B")}),e.push({value:(2/3)**4*n,label:_("F#")}),e.push({value:(2/3)**5*n,label:_("C#")}),e.push({value:(2/3)**6*n,label:_("G#")}),e.push({value:(2/3)**7*n,label:_("D#")}),e.push({value:1.5*n,label:_("G")}),e.push({value:2.25*n,label:_("C")}),e.push({value:3.375*n,label:_("F")}),e.push({value:5.0625*n,label:_("Bb")}),e.push({value:(2/3)**-5*n,label:_("Eb")}),e.push({value:.7119140625,label:_("Ab")}),e}(t(n)))}function h(t){const e=1/t.start;return s.dom.style("top",(n=e,-(-Math.log(n)/c)*(document.documentElement.offsetWidth*l/100)+"px"));var n}function p(t){const e=i.Observable.create(t,0),n=i.Computed.create(t,e,(t,e)=>function(t){return Math.exp(-t*c)}(e)),o=a.bind(null,t,n);return s.dom.onElem(window,"scroll",t=>e.set(function(){const t=document.documentElement;return-t.scrollTop/(t.offsetWidth*l/100)}())),[g("The Wheel of Logarithms"),b(y(s.dom.style("transform",t=>`rotate(${t(e)}rad)`),w(),C(),D(D.cls(t=>{const n=-t(e)/Math.PI;return n<1?"-start":n<2?"-middle":"-end"}),s.dom.style("transform",t=>`rotate(${-t(e)+Math.PI/4}rad)`)),s.dom.forEach(o(),({label:t,value:e})=>S(I(I.cls("-short",!t)),t,s.dom.show(t=>e*t(n)>=1&&e<=1),t=>function(t,e){const n=-Math.log(e)/c;t.style.transform=`rotate(${n}rad)`}(t,e)))),k(E(s.dom.forEach(o(),({label:t,value:e})=>L(I(I.cls("-short",!t)),t,s.dom.show(t=>e*t(n)<1),s.dom.style("right",t=>e*t(n)*100+"%")))),A())),M(z(),B(),T(s.dom.forEach(r,t=>W(h(t),t.msg))))]}function f(t){return N.cls("-sz"+Math.min(10,String(t).length))}function _(t,e,...n){return O(N(""+t,e?f(e):null),e?N(""+e,f(e)):null,...n)}e.interval=function(t,e){return O(O.cls("-interval"),d[e])};const m=s.styled("body","\n  box-sizing: border-box;\n  font-family: sans-serif;\n  padding: 0px;\n  margin: 0px;\n  --overlay-color: rgba(230, 200, 250);\n  --wheel-color: #00ca00;\n  --text-color: #6745dd;\n\n  *, *:before, *:after {\n  -webkit-box-sizing: border-box;\n     -moz-box-sizing: border-box;\n          box-sizing: border-box;\n  }\n"),g=s.styled("h1","\n  position: fixed;\n  width: 100%;\n  text-align: center;\n  font-size: 20px;\n  margin: 40px;\n  color: var(--text-color);\n"),b=s.styled("div","\n  position: fixed;\n  display: flex;\n  width: 60%;\n  top: 60px;\n  padding: 40px;\n"),x=s.styled("div","\n  position: absolute;\n  width: 1px;\n  height: 2500%;\n"),y=s.styled("div",`\n  position: relative;\n  border: 3px solid transparent;\n  border-radius: 100%;\n  box-shadow: inset 0 0 0 3px var(--wheel-color);\n  width: ${2*l}%;\n  margin-right: -${l}%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1;\n  &:after {\n    content: "";\n    display: block;\n    padding-bottom: 100%;\n  }\n`),w=s.styled("div","\n  position: absolute;\n  top: 25%;\n  left: 25%;\n  border: 6px dashed var(--wheel-color);\n  border-radius: 100%;\n  width: 50%;\n  height: 50%;\n"),v=s.styled("div","\n  position: absolute;\n  top: -3px;\n  left: -3px;\n  bottom: -3px;\n  right: -3px;\n  border-radius: 100%;\n  border: 3px solid transparent;\n"),C=s.styled(v,"\n  border-top-color: orange;\n  border-right-color: orange;\n  transform: rotate(45deg);\n"),D=s.styled(v,"\n  &-start {\n    border-top-color: white;\n    border-right-color: white;\n    /* make the white portion wider to avoid a bit of orange leaking from under it */\n    top: -4px;\n    left: -4px;\n    bottom: -4px;\n    right: -4px;\n    border-width: 4px;\n  }\n  &-middle {\n    border-left-color: orange;\n    border-bottom-color: orange;\n  }\n  &-end {\n    border-color: orange;\n  }\n"),k=s.styled("div","\n  flex: auto;\n  position: relative;\n"),E=s.styled("div","\n  position: relative;\n  border-bottom: 3px solid orange;\n  z-index: 2;\n"),A=s.styled("div","\n  position: absolute;\n  top: -4px;\n  right: -4px;\n  width: 10px;\n  height: 10px;\n  border-radius: 10px;\n  background-color: orange;\n"),L=s.styled("div","\n  position: absolute;\n  display: inline-flex;\n  flex-direction: column;\n  align-items: right;\n"),S=s.styled(L,"\n  top: -3px;\n  height: 50%;\n  right: 50%;\n  transform-origin: 100% calc(100% + 3px);\n  pointer-events: none;\n"),I=s.styled("div","\n  height: 10px;\n  border-right: 1px solid black;\n  margin-bottom: 2px;\n  &-short {\n    height: 5px;\n  }\n"),O=s.styled("div","\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  margin-right: -100%;\n  text-shadow: white 1px 1px 1px, white -1px -1px 1px;\n  &-interval {\n    position: absolute;\n    top: -28px;\n    font-size: 24px;\n    width: 200%;\n  }\n  &-lower1 {\n    margin-top: 36px;\n  }\n  &-lower2 {\n    margin-top: 50px;\n  }\n"),N=s.styled("div","\n  padding: 3px 3px 0 3px;\n  font-size: 14px;\n  &:nth-child(2) {\n    border-top: 1px solid black;\n  }\n  &-sz3 { font-size: 12px; }\n  &-sz4 { font-size: 11px; }\n  &-sz5 { font-size: 10px; }\n  &-sz6, &-sz7, &-sz8, &-sz9, &-sz10 { font-size: 9px; }\n"),M=s.styled("div",`\n  position: absolute;\n  z-index: -1;\n  top: 0px;\n  right: 0px;\n  width: ${100-2*l}%;\n  margin: 0 20px;\n`),z=s.styled("div","\n  position: fixed;\n  top: 0px;\n  height: 220px;\n  width: 100%;\n  background: linear-gradient(white, white 80%, transparent);\n  z-index: 1;\n"),B=s.styled(z,"\n  bottom: 0px;\n  top: unset;\n  height: calc(100% - 450px);\n  background: linear-gradient(transparent, white 20%, white);\n"),T=s.styled("div","\n  position: relative;\n  max-width: 400px;\n  margin: 220px auto auto 100px;\n  color: var(--text-color);\n"),W=s.styled("div","\n  position: absolute;\n  font-size: 18px;\n  line-height: 1.5;\n");s.dom.update(document.body,m.cls(""),(history.scrollRestoration="manual",[x(),s.dom.create(p)]))}]);
//# sourceMappingURL=notecircle.js.map